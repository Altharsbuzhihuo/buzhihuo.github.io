{"title":"js代码密码强度校验","slug":"js代码密码强度校验","date":"2018-08-08T11:49:38.000Z","updated":"2018-08-08T12:07:42.359Z","comments":true,"excerpt":"","content":"<h1 id=\"表单里的代码\"><a href=\"#表单里的代码\" class=\"headerlink\" title=\"表单里的代码\"></a>表单里的代码</h1><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;dt size=\"1\" width=\"40%\" align=\"right\"&gt;密码强度:&lt;/dt&gt;</span><br><span class=\"line\">            &lt;dd&gt;&amp;nbsp;&amp;nbsp;</span><br><span class=\"line\">                &lt;span size=\"1\" width=\"20%\" id=\"strength_L\" bgcolor=\"#eeeeee\"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;</span><br><span class=\"line\">                &lt;span size=\"1\" width=\"20%\" id=\"strength_M\" bgcolor=\"#eeeeee\"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;</span><br><span class=\"line\">                &lt;span size=\"1\" width=\"20%\" id=\"strength_H\" bgcolor=\"#eeeeee\"&gt;&amp;nbsp;&amp;nbsp;&lt;/span&gt;</span><br><span class=\"line\">            &lt;/dd&gt;</span><br></pre></td></tr></table></figure>\n<h1 id=\"js里的代码\"><a href=\"#js里的代码\" class=\"headerlink\" title=\"js里的代码\"></a>js里的代码</h1><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\">function <span class=\"title\">checkPwd</span><span class=\"params\">(pwdval)</span> </span>&#123;</span><br><span class=\"line\">       $(<span class=\"string\">\"#pwdTip\"</span>).html(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">       <span class=\"keyword\">if</span>(pwdval==<span class=\"string\">\"\"</span>)&#123;</span><br><span class=\"line\">           $(<span class=\"string\">\"#pwdTip\"</span>).html(<span class=\"string\">\"&lt;font color=red&gt;密码不能为空！&lt;/font&gt;\"</span>);</span><br><span class=\"line\">           <span class=\"keyword\">return</span>;</span><br><span class=\"line\">       &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span>(pwdval.length&lt;<span class=\"number\">5</span>)&#123;</span><br><span class=\"line\">           $(<span class=\"string\">\"#pwdTip\"</span>).html(<span class=\"string\">\"&lt;font color=red&gt;密码不能少于6位！&lt;/font&gt;\"</span>);</span><br><span class=\"line\">           <span class=\"keyword\">return</span>;</span><br><span class=\"line\">       &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">           $(<span class=\"string\">\"#pwd2Tip\"</span>).html(<span class=\"string\">\"&lt;font color=green&gt;✔&lt;/font&gt;\"</span>);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">       <span class=\"comment\">//密码强度校验</span></span><br><span class=\"line\">       <span class=\"comment\">//显示颜色</span></span><br><span class=\"line\">       Dfault_color=<span class=\"string\">\"#eeeeee\"</span>;     <span class=\"comment\">//默认颜色</span></span><br><span class=\"line\">       L_color=<span class=\"string\">\"#FF0000\"</span>;      <span class=\"comment\">//低强度的颜色，且只显示在最左边的单元格中</span></span><br><span class=\"line\">       M_color=<span class=\"string\">\"#FF9900\"</span>;      <span class=\"comment\">//中等强度的颜色，且只显示在左边两个单元格中</span></span><br><span class=\"line\">       H_color=<span class=\"string\">\"#33CC00\"</span>;      <span class=\"comment\">//高强度的颜色，三个单元格都显示</span></span><br><span class=\"line\">       <span class=\"keyword\">if</span> (pwdval == <span class=\"keyword\">null</span>|| pwdval==<span class=\"string\">''</span>)&#123;</span><br><span class=\"line\">           Lcolor=Mcolor=Hcolor=Dfault_color;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">           S_level=checkStrong(pwdval);</span><br><span class=\"line\">           <span class=\"keyword\">switch</span>(S_level) &#123;</span><br><span class=\"line\">               <span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">                   Lcolor = Mcolor = Hcolor = Dfault_color;</span><br><span class=\"line\">                   <span class=\"keyword\">break</span>;</span><br><span class=\"line\">               <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">                   Lcolor = L_color;</span><br><span class=\"line\">                   Mcolor = Hcolor = Dfault_color;</span><br><span class=\"line\">                   <span class=\"keyword\">break</span>;</span><br><span class=\"line\">               <span class=\"keyword\">case</span> <span class=\"number\">2</span>:</span><br><span class=\"line\">                   Lcolor=Mcolor=M_color;</span><br><span class=\"line\">                   Hcolor = Dfault_color;</span><br><span class=\"line\">                   <span class=\"keyword\">break</span>;</span><br><span class=\"line\">               <span class=\"keyword\">default</span>:</span><br><span class=\"line\">                   Lcolor = Mcolor = Hcolor = H_color;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       document.getElementById(<span class=\"string\">\"strength_L\"</span>).style.background = Lcolor;</span><br><span class=\"line\">       document.getElementById(<span class=\"string\">\"strength_M\"</span>).style.background = Mcolor;</span><br><span class=\"line\">       document.getElementById(<span class=\"string\">\"strength_H\"</span>).style.background = Hcolor;</span><br><span class=\"line\">       <span class=\"keyword\">return</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"comment\">//判断输入密码的类型</span></span><br><span class=\"line\">   <span class=\"function\">function <span class=\"title\">CharMode</span><span class=\"params\">(iN)</span></span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (iN &gt;= <span class=\"number\">48</span> &amp;&amp; iN &lt;= <span class=\"number\">57</span>) <span class=\"comment\">//数字</span></span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"number\">1</span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (iN &gt;= <span class=\"number\">65</span> &amp;&amp; iN &lt;= <span class=\"number\">90</span>) <span class=\"comment\">//大写</span></span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"number\">2</span>;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (iN &gt;= <span class=\"number\">97</span> &amp;&amp; iN &lt;= <span class=\"number\">122</span>) <span class=\"comment\">//小写</span></span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"number\">4</span>;</span><br><span class=\"line\">       <span class=\"keyword\">else</span></span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"number\">8</span>;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"comment\">//bitTotal函数</span></span><br><span class=\"line\">   <span class=\"comment\">//计算密码模式</span></span><br><span class=\"line\">   <span class=\"function\">function <span class=\"title\">bitTotal</span><span class=\"params\">(num)</span></span>&#123;</span><br><span class=\"line\">       modes = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>;i &lt; <span class=\"number\">4</span>;i++)&#123;</span><br><span class=\"line\">           <span class=\"keyword\">if</span> (num &amp; <span class=\"number\">1</span>)</span><br><span class=\"line\">               modes++;</span><br><span class=\"line\">           num &gt;&gt;&gt;= <span class=\"number\">1</span>;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> modes;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   <span class=\"comment\">//返回强度级别</span></span><br><span class=\"line\">   <span class=\"function\">function <span class=\"title\">checkStrong</span><span class=\"params\">(sPW)</span></span>&#123;</span><br><span class=\"line\">       <span class=\"keyword\">if</span> (sPW.length &lt; <span class=\"number\">6</span>)</span><br><span class=\"line\">           <span class=\"keyword\">return</span> <span class=\"number\">0</span>;           <span class=\"comment\">//密码太短，不检测级别</span></span><br><span class=\"line\">       Modes = <span class=\"number\">0</span>;</span><br><span class=\"line\">       <span class=\"keyword\">for</span> (i = <span class=\"number\">0</span>; i &lt; sPW.length; i++)&#123;</span><br><span class=\"line\">           <span class=\"comment\">//密码模式</span></span><br><span class=\"line\">           Modes |= CharMode(sPW.charCodeAt(i));</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> bitTotal(Modes);</span><br><span class=\"line\">   &#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"效果图\"><a href=\"#效果图\" class=\"headerlink\" title=\"效果图\"></a>效果图</h1><p><img src=\"/img/20180808200109.png\" alt=\"\"></p>\n","categories":[{"name":"js","path":"api/categories/js.json"}],"tags":[{"name":"笔记","path":"api/tags/笔记.json"},{"name":"js","path":"api/tags/js.json"},{"name":"密码强度校验","path":"api/tags/密码强度校验.json"}]}