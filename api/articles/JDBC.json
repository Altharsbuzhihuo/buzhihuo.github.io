{"title":"JDBC","slug":"JDBC","date":"2018-08-03T03:05:54.000Z","updated":"2018-08-03T03:07:51.587Z","comments":true,"excerpt":"","content":"<h1 id=\"JDBC-Java-DataBase-Connection-程序的创建步骤：\"><a href=\"#JDBC-Java-DataBase-Connection-程序的创建步骤：\" class=\"headerlink\" title=\"JDBC(Java DataBase Connection)程序的创建步骤：\"></a>JDBC(Java DataBase Connection)程序的创建步骤：</h1><h2 id=\"1-加载JDBC驱动程序\"><a href=\"#1-加载JDBC驱动程序\" class=\"headerlink\" title=\"1.加载JDBC驱动程序\"></a>1.加载JDBC驱动程序</h2><pre><code>Class.forName(com.mysql.jdbc.Driver)\n</code></pre><h2 id=\"2-提供JDBC连接的URL\"><a href=\"#2-提供JDBC连接的URL\" class=\"headerlink\" title=\"2.提供JDBC连接的URL\"></a>2.提供JDBC连接的URL</h2><pre><code>String url=&quot;jdbc:mysql://localhost:3306/db_shop&quot;;\nString username=&quot;root&quot;;\nString password=&quot;root&quot;;\n</code></pre><h2 id=\"3-创建数据库连接\"><a href=\"#3-创建数据库连接\" class=\"headerlink\" title=\"3.创建数据库连接\"></a>3.创建数据库连接</h2><pre><code>Connedtion conn=DriverManager.getConnection(url,username,password);\n</code></pre><h2 id=\"4-创建一个Statement\"><a href=\"#4-创建一个Statement\" class=\"headerlink\" title=\"4.创建一个Statement\"></a>4.创建一个Statement</h2><pre><code>Statement stmt=conn.createStatement();\n</code></pre><h2 id=\"5-执行SQL语句\"><a href=\"#5-执行SQL语句\" class=\"headerlink\" title=\"5.执行SQL语句\"></a>5.执行SQL语句</h2><pre><code>String sql=&quot;select * from user&quot;;\nResultSet rs=stmt.executeQuery(sql);\n</code></pre><h2 id=\"6-处理结果\"><a href=\"#6-处理结果\" class=\"headerlink\" title=\"6.处理结果\"></a>6.处理结果</h2><pre><code>try{\n    int id=rs.getInt(&quot;id&quot;);\n    String name=rs.getString(&quot;username&quot;);\n    String psw=rs.getString(&quot;password&quot;);\n    }catch(ClassNotFoundException e){\n        e.printStackTrace();\n    }   \n</code></pre><h2 id=\"7-关闭JDBC对象\"><a href=\"#7-关闭JDBC对象\" class=\"headerlink\" title=\"7.关闭JDBC对象\"></a>7.关闭JDBC对象</h2><pre><code>try{\n    rs.close();\n    rs=null;\n    stmt.close();\n    stmt=null;\n    conn.close();\n    conn=null;\n}catch(SQLException e){\n    e.printStackTrace();\n}\n</code></pre><h1 id=\"完整的程序\"><a href=\"#完整的程序\" class=\"headerlink\" title=\"完整的程序\"></a>完整的程序</h1><pre><code>import java.mysql.*;\npublic class JDBCExample01{\n    public static void main(String[] args) throws SQLException, ClassNotFoundException {\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n    String url=&quot;jdbc:mysql://localhost:3306/db_shop&quot;;\n    String username=&quot;root&quot;;\n    String password=&quot;root&quot;;\n    Connection conn = DriverManager.getConnection(url, username, password);\n    Statement stmt=conn.createStatement();\n    String sql=&quot;select * from users&quot;;\n    ResultSet rs=stmt.executeQuery(sql);\n    System.out.println(rs.getString(&quot;id&quot;));\n    System.out.println(rs.getString(&quot;username&quot;));\n    System.out.println(rs.getString(&quot;password&quot;));\n    rs.close();\n    rs=null;\n    stmt.close();\n    stmt=null;\n    conn.close();\n    conn=null;\n    }\n}\n</code></pre><h1 id=\"使用prepareStatement类\"><a href=\"#使用prepareStatement类\" class=\"headerlink\" title=\"使用prepareStatement类\"></a>使用prepareStatement类</h1><pre><code>import java.sql.*;\npublic class Example{\n    public void static main(String[] args) throw SQLException{\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        String url=&quot;jdbc:mysql://localhost:3306/db_shop&quot;;\n        String username=&quot;root&quot;;\n        String password=&quot;root&quot;;\n        conn=DriverManager.getConnection(url,username,password);\n        String sql=&quot;INSERT INTO user(name,password,email)&quot;+&quot;VALUE(?,?,?)&quot;;\n        preStmt=conn.PrepareStatement(sql);\n        preStmt=setString(1,&quot;zl&quot;);\n        preStmt=setString(2,&quot;12345&quot;);\n        preStmt=setString(3,&quot;zl@foxmain.com&quot;);\n        preStmt.executeUpdate();\n        preStmt.close();\n        preStmt=null;\n        conn.close();\n        conn=null;\n    }\n}\n</code></pre>","categories":[{"name":"笔记","path":"api/categories/笔记.json"}],"tags":[{"name":"笔记","path":"api/tags/笔记.json"},{"name":"javaweb","path":"api/tags/javaweb.json"},{"name":"JDBC","path":"api/tags/JDBC.json"}]}